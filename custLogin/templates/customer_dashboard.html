{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
         body {
            background: url('{% static "images/pozadinaStrana.png" %}') no-repeat center center fixed;
            background-size: cover;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
        }
         #asd{
             background: #07094f;
             background: linear-gradient(90deg, rgba(7, 9, 79, 1) 0%, rgba(137, 87, 199, 1) 50%, rgba(237, 83, 83, 1) 100%);
         }
         #asd2 {
             border: none;
         }
         .crypto-card {
             background: rgba(0,0,0,0.6);
             border-radius: 10px;
             padding: 10px;
             margin: 10px;
         }
    </style>
</head>
<body>

<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-transparent mb-4">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#">
          <img src="{% static 'images/beloLogo-removebg-preview.png' %}" alt="Logo" height="40" style="transition: transform 0.3s;">
         <span class="fw-bold">Trump Finance üí∏</span>
    </a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link text-danger" href="{% url 'logout' %}">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Dashboard Content -->
<div class="container mt-5">
  <div class="card mx-auto text-center" id="asd2" style="max-width: 600px;">
    <div class="card-body">
      <h4 class="mb-2">üìû {{ customer.phone }} | ‚úâÔ∏è {{ customer.email }}</h4>

      <h2 class="fw-bold mb-3">üíµ Trump Finance Account</h2>

      <h5 class="mb-2">Total Balance: <span class="text-success">${{ customer.balance }}</span></h5>
      <h5 class="mb-4">Available Balance:
        <span class="text-warning">
          {% if customer.can_cashout %}${{ customer.balance }}{% else %}$0.00{% endif %}
        </span>
      </h5>

      {% if customer.can_cashout %}
        <a href="/withdraw-page" class="btn btn-success mb-3">Withdraw</a>
      {% else %}
        <div class="alert alert-warning">
          ‚ö†Ô∏è You're not eligible yet.<br>
          Contact your manager to find out how many stickers you need.
        </div>
      {% endif %}

      <div class="row justify-content-center">
        <div class="col-md-5 crypto-card">
          <h5>BTC</h5>
          <p>$
            {% with btc=customer.balance|floatformat:2 %}
              {{ btc|floatformat:2 }}
              <br><small>(~{{ customer.balance|floatformat:2|divisibleby:"65000" }} BTC)</small>
            {% endwith %}
          </p>
        </div>
        <div class="col-md-5 crypto-card">
          <h5>ETH</h5>
          <p>$
            {% with eth=customer.balance|floatformat:2 %}
              {{ eth|floatformat:2 }}
              <br><small>(~{{ customer.balance|floatformat:2|divisibleby:"3700" }} ETH)</small>
            {% endwith %}
          </p>
        </div>
        <div class="col-md-5 crypto-card">
          <h5>XRP</h5>
          <p>$
            {% with xrp=customer.balance|floatformat:2 %}
              {{ xrp|floatformat:2 }}
              <br><small>(~{{ customer.balance|floatformat:2|divisibleby:"0.5" }} XRP)</small>
            {% endwith %}
          </p>
        </div>
        <div class="col-md-5 crypto-card">
          <h5>XLM</h5>
          <p>$
            {% with xlm=customer.balance|floatformat:2 %}
              {{ xlm|floatformat:2 }}
              <br><small>(~{{ customer.balance|floatformat:2|divisibleby:"0.3" }} XLM)</small>
            {% endwith %}
          </p>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
